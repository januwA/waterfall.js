!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.waterfall=t():e.waterfall=t()}(self,(function(){return(()=>{"use strict";var e={999:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Waterfall=t.WaterfallAlignment=void 0,function(e){e[e.start=0]="start",e[e.center=1]="center",e[e.end=2]="end",e[e.between=3]="between"}(r=t.WaterfallAlignment||(t.WaterfallAlignment={})),t.Waterfall=class{constructor(e){var t,i,o,n;if(this.draw=()=>{var e;const t=null===(e=this.rootElm.querySelector(this.item))||void 0===e?void 0:e.clientWidth;if(!t)return!1;const i=this.rootElm.clientWidth,o=parseInt((i/t).toString()),n=new Array(o).fill(0),l=i-t*o,s=i/o,a=Array.from(this.rootElm.querySelectorAll(this.item));for(const e of a){const i=e.clientHeight,a=Math.min(...n),u=n.indexOf(a);let c;e.style.position="absolute",e.style.top=a+"px";let d=this.reverse?o-1-u:u;switch(this.alignment){case r.start:c=d*t;break;case r.center:c=d*t+l/2;break;case r.end:c=d*t+l;break;case r.between:let e=0;u>0&&(e=l/o/(o-u)),c=d*s+e}e.style.left=c+"px",n[u]+=i}return!0},this.dispose=()=>{this.resize&&this.debounceDraw&&window.removeEventListener("resize",this.debounceDraw)},!e.root||!e.item)throw Error("构建方式错误: 需要root和item参数!");this.root=e.root,this.item=e.item,this.alignment=null!==(t=e.alignment)&&void 0!==t?t:r.start,this.reverse=null!==(i=e.reverse)&&void 0!==i&&i,this.resizeDebounce=null!==(o=e.resizeDebounce)&&void 0!==o?o:300,this.resize=null===(n=e.resize)||void 0===n||n;const l=document.querySelector(this.root);if(null===l)throw Error(`没有找到根节点："${this.root}" 元素！`);this.rootElm=l,"static"===this._getPV(this.rootElm,"position")&&(this.rootElm.style.position="relative"),this._run()}debounce(e,t=1e3){let r;return(...i)=>{clearTimeout(r),r=window.setTimeout((()=>{e.apply(this,i)}),t)}}_run(){this.draw(),this.resize&&(this.debounceDraw=this.debounce(this.draw,this.resizeDebounce),window.addEventListener("resize",this.debounceDraw))}_getPV(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}}}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.WaterfallAlignment=e.Waterfall=void 0;var t=r(999);Object.defineProperty(e,"Waterfall",{enumerable:!0,get:function(){return t.Waterfall}}),Object.defineProperty(e,"WaterfallAlignment",{enumerable:!0,get:function(){return t.WaterfallAlignment}})})(),i})()}));